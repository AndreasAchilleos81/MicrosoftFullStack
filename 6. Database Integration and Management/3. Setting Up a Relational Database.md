# MySQL Database Setup Lab Tutorial

## Overview
In this lab, we'll use SQL statements to set up and configure a relational database using MySQL. We'll cover:
- Setting up the development environment
- Creating and modifying database tables using SQL commands
- Defining table structures with primary keys, constraints, and foreign keys
- Enforcing relationships between tables to ensure data integrity
- Testing the setup using queries

## Step 1: Set Up Development Environment

### Log into MySQL Shell
```bash
mysql -u username -p
```

## Step 2: Create Database and Tables

### Create the Database
```sql
CREATE DATABASE techcorpdb;
```
*Output: Query OK, 1 row affected*

### Use the Database
```sql
USE techcorpdb;
```
*Output: Database changed*

### Create Departments Table
```sql
CREATE TABLE departments (
    department_id INT AUTO_INCREMENT PRIMARY KEY,
    department_name VARCHAR(50) NOT NULL UNIQUE
);
```

### Create Employees Table
```sql
CREATE TABLE employees (
    employee_id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL UNIQUE,
    department_id INT
);
```

*Output: Query OK, 0 rows affected (for both tables)*

## Step 3: Modify Table Structure

### Add Column to Employees Table
```sql
ALTER TABLE employees 
ADD COLUMN last_name VARCHAR(50) NOT NULL;
```

This adds a `last_name` column with VARCHAR(50) data type that cannot be null.

## Step 4: Add Foreign Key Constraint

### Create Foreign Key Relationship
```sql
ALTER TABLE employees 
ADD CONSTRAINT fkey_department 
FOREIGN KEY (department_id) REFERENCES departments(department_id);
```

This creates a foreign key constraint that:
- Links `employees.department_id` to `departments.department_id`
- Ensures data integrity between the two tables
- Prevents adding employee records without valid department IDs

## Step 5: Test the Setup

### Examine Table Structure
```sql
DESCRIBE departments;
```

**Expected Output:**
| Field | Type | Null | Key | Default | Extra |
|-------|------|------|-----|---------|-------|
| department_id | int | NO | PRI | NULL | auto_increment |
| department_name | varchar(50) | NO | UNI | NULL | |

### Insert Sample Data into Departments
```sql
INSERT INTO departments (department_name) VALUES 
('HR'),
('Engineering'),
('Marketing');
```

*Output: Query OK, 3 rows affected*

This creates three department records with auto-generated IDs (1, 2, 3).

### Insert Sample Data into Employees
```sql
INSERT INTO employees (first_name, last_name, department_id) VALUES 
('John', 'Doe', 1),
('Jane', 'Smith', 2),
('Mike', 'Johnson', 1),
('Sarah', 'Wilson', 3),
('Tom', 'Brown', 2),
('Lisa', 'Davis', 3);
```

*Output: Query OK, 6 rows affected*

Note: We must include `department_id` values (1, 2, or 3) due to the foreign key constraint.

### Test with JOIN Query
```sql
SELECT employees.first_name, employees.last_name, departments.department_name
FROM employees
JOIN departments ON employees.department_id = departments.department_id;
```

**Expected Output:**
| first_name | last_name | department_name |
|------------|-----------|-----------------|
| John | Doe | HR |
| Jane | Smith | Engineering |
| Mike | Johnson | HR |
| Sarah | Wilson | Marketing |
| Tom | Brown | Engineering |
| Lisa | Davis | Marketing |

## Key Concepts Demonstrated

### Primary Keys
- `AUTO_INCREMENT` automatically generates unique IDs
- Serves as the primary key for each table

### Constraints
- `NOT NULL`: Prevents empty values
- `UNIQUE`: Ensures no duplicate values
- `FOREIGN KEY`: Maintains referential integrity

### Data Integrity
The foreign key constraint ensures:
- Employee records must reference valid departments
- Cannot insert employees with non-existent department IDs
- Maintains consistency between related tables

### JOIN Operations
- Links data from multiple tables using foreign key relationships
- Creates a unified view of related information
- Output appears as a single table while maintaining normalized structure

## Summary
This lab demonstrates how SQL statements can be used to:
1. Set up and create databases
2. Define table structures with appropriate constraints
3. Populate tables with sample data
4. Query related data using JOIN operations
5. Ensure data integrity through foreign key relationships

The foreign key relationship between `employees` and `departments` tables ensures that the database maintains consistent, reliable data while allowing flexible querying capabilities.

## Create a  MYSQL User and give them rights

CREATE USER 'manager'@'localhost' IDENTIFIED BY 'Password1';
GRANT ALL PRIVILEGES ON CompanyDB.* TO 'manager'@'localhost'

